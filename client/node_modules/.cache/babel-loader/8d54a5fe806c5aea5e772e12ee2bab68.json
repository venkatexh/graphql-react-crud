{"ast":null,"code":"var _jsxFileName = \"/workspace/MyWebDev/graphql_app/client/src/components/AddCar.js\";\nimport React, { Component } from 'react';\nimport { graphql } from 'react-apollo';\nimport { flowRight as compose } from 'lodash';\nimport { getBrandsQuery, addCarMutation } from '../queries/queries';\nimport { getCarsQuery } from '../queries/queries';\n\nclass AddCar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      year: '',\n      brandId: ''\n    };\n  }\n\n  displayBrands() {\n    var data = this.props.getBrandsQuery;\n\n    if (data.loading) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 13\n        }\n      }, \"Loading brands\");\n    } else {\n      return data.brands.map(brand => {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: brand.id,\n          value: brand.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 14\n          }\n        }, brand.name);\n      });\n    }\n  }\n\n  submitForm(e) {\n    e.preventDefault();\n    this.props.addCarMutation({\n      variables: {\n        name: this.state.name,\n        year: parseInt(this.state.year),\n        brandId: this.state.brandId\n      },\n      refetchQueries: [{\n        query: getCarsQuery\n      }]\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      id: \"add-car\",\n      onSubmit: this.submitForm.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }\n    }, \"Car name:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onChange: e => this.setState({\n        name: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    }, \"Year:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onChange: e => this.setState({\n        year: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }\n    }, \"Brand:\"), /*#__PURE__*/React.createElement(\"select\", {\n      onChange: e => this.setState({\n        brandId: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }\n    }, \"Select brand\"), this.displayBrands())), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, \"+\"));\n  }\n\n}\n\nexport default compose(graphql(getBrandsQuery, {\n  name: \"getBrandsQuery\"\n}), graphql(addCarMutation, {\n  name: \"addCarMutation\"\n}))(AddCar);","map":{"version":3,"sources":["/workspace/MyWebDev/graphql_app/client/src/components/AddCar.js"],"names":["React","Component","graphql","flowRight","compose","getBrandsQuery","addCarMutation","getCarsQuery","AddCar","constructor","props","state","name","year","brandId","displayBrands","data","loading","brands","map","brand","id","submitForm","e","preventDefault","variables","parseInt","refetchQueries","query","render","bind","setState","target","value"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport {graphql} from 'react-apollo'\nimport {flowRight as compose} from 'lodash'\nimport { getBrandsQuery, addCarMutation } from '../queries/queries'\nimport { getCarsQuery } from '../queries/queries'\n\nclass AddCar extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tname: '',\n\t\t\tyear: '',\n\t\t\tbrandId: ''\n\t\t}\n\t}\n\tdisplayBrands() {\n\t\tvar data = this.props.getBrandsQuery\n\t\tif(data.loading) {\n\t\t\treturn ( <option disabled>Loading brands</option> )\n\t\t} else {\n\t\t\treturn data.brands.map(brand => {\n\t\t\t\treturn ( <option key={brand.id} value={brand.id}>{brand.name}</option> )\n\t\t\t})\n\t\t}\n\t}\n\t\n\tsubmitForm(e) {\n\t\te.preventDefault()\n\t\tthis.props.addCarMutation({\n\t\t\tvariables: {\n\t\t\t\tname: this.state.name,\n\t\t\t\tyear: parseInt(this.state.year),\n\t\t\t\tbrandId: this.state.brandId\n\t\t\t},\n\t\t\trefetchQueries: [{ query: getCarsQuery}]\n\t\t})\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t<form id=\"add-car\" onSubmit={this.submitForm.bind(this)} >\n                <div className=\"field\">\n                    <label>Car name:</label>\n                    <input type=\"text\" onChange={(e) => this.setState({name: e.target.value})} />\n                </div>\n                <div className=\"field\">\n                    <label>Year:</label>\n                    <input type=\"text\" onChange={(e) => this.setState({year: e.target.value})} />\n                </div>\n                <div className=\"field\">\n                    <label>Brand:</label>\n                    <select onChange={(e) => this.setState({brandId: e.target.value})}>\n                        <option>Select brand</option>\n                        { this.displayBrands() }\n                    </select>\n                </div>\n                <button>+</button>\n\n            </form>\n\t\t);\n\t}\n}\n\nexport default compose(\n\tgraphql(getBrandsQuery, {name: \"getBrandsQuery\"}),\n\tgraphql(addCarMutation, {name: \"addCarMutation\"})\n)(AddCar)"]},"metadata":{},"sourceType":"module"}